<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cliente - Servicios El Loa</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="assets/js/auth-helper.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#003366',
                        secondary: '#FF6600',
                        surface: '#F3F4F6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="assets/css/custom.css" />
</head>
<body class="font-sans bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav class="bg-primary text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center gap-3 cursor-pointer">
                    <div class="w-10 h-10 bg-white rounded-md flex items-center justify-center text-primary font-bold text-xl">EL</div>
                    <span class="font-bold text-xl tracking-wide">Mi Dashboard</span>
                </div>

                <div class="hidden md:flex space-x-6">
                    <a href="#" onclick="redirectToDashboard(event)" class="text-secondary font-bold border-b-2 border-secondary px-1 pb-1">Mi Cuenta</a>
                    <a href="service-request.html" class="hover:text-gray-300 transition px-1 pb-1">Solicitar Viaje</a>
                    <a href="#" class="hover:text-gray-300 transition px-1 pb-1">Mis Viajes</a>
                    <a href="#" class="hover:text-gray-300 transition px-1 pb-1">Pagos</a>
                </div>

                <div class="hidden md:flex items-center gap-3">
                    <button class="bg-primary p-1 rounded-full text-gray-400 hover:text-white transition">
                        <span class="material-icons">notifications</span>
                    </button>
                    <div class="flex items-center gap-3 pl-4 border-l border-blue-800">
                        <div class="text-right hidden sm:block">
                            <p class="text-sm font-bold leading-none user-name">Usuario</p>
                            <p class="text-xs text-blue-300 user-role">Cliente</p>
                        </div>
                        <div class="h-8 w-8 rounded-full bg-secondary flex items-center justify-center text-white text-xs font-bold ring-2 ring-blue-900 user-initials">US</div>
                        <a href="logout.html" class="ml-2 text-sm font-semibold hover:text-gray-300">Salir</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <!-- Main Content -->
    <main class="flex-1 py-10 px-4 sm:px-6 lg:px-8 bg-gray-50/50">
        <div class="max-w-7xl mx-auto space-y-8">

            <!-- Header -->
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div>
                     <nav class="flex text-sm text-gray-500 mb-1" aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2">
                            <li><a href="index.html" class="hover:text-primary transition">Inicio</a></li>
                            <li><span class="text-gray-400">/</span></li>
                            <li class="text-gray-800 font-medium">Dashboard Cliente</li>
                        </ol>
                    </nav>
                    <h1 class="text-3xl font-bold text-gray-900 tracking-tight">Mi Panel de Control</h1>
                    <p class="text-gray-500 mt-1">Resumen de actividad, viajes y estado de cuenta.</p>
                </div>
                <div class="flex items-center gap-3">
                     <div class="hidden sm:block text-right mr-2">
                        <p class="text-sm font-medium text-gray-900">Saldo Disponible</p>
                        <p class="text-xs text-secondary font-bold">Línea de Crédito</p>
                    </div>
                     <div class="text-2xl font-bold text-gray-900">$1.500.000</div>
                </div>
            </div>

            <!-- KPI Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                
                <!-- Viajes Mes -->
                <div class="bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition duration-300 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <span class="material-icons text-6xl text-primary transform rotate-12">commute</span>
                    </div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="p-1.5 bg-blue-50 rounded-lg text-primary">
                                <span class="material-icons text-xl">commute</span>
                            </span>
                            <span class="text-sm font-semibold text-gray-600">Viajes este Mes</span>
                        </div>
                        <div class="flex items-baseline gap-2">
                             <h3 class="text-3xl font-bold text-gray-900">12</h3>
                             <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">
                                +2
                             </span>
                        </div>
                         <p class="text-xs text-gray-500 mt-2">vs. mes anterior</p>
                    </div>
                </div>

                <!-- Gasto Total -->
                <div class="bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition duration-300 relative overflow-hidden group">
                     <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <span class="material-icons text-6xl text-secondary transform rotate-12">account_balance_wallet</span>
                    </div>
                    <div class="relative z-10">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="p-1.5 bg-orange-50 rounded-lg text-secondary">
                                <span class="material-icons text-xl">account_balance_wallet</span>
                            </span>
                             <span class="text-sm font-semibold text-gray-600">Consumo Total</span>
                        </div>
                        <div class="flex items-baseline gap-2">
                             <h3 class="text-3xl font-bold text-gray-900">$285k</h3>
                        </div>
                        <p class="text-xs text-gray-500 mt-2">Facturación cierre de mes</p>
                    </div>
                </div>

                <!-- Próximos -->
                 <div class="bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition duration-300 relative overflow-hidden group">
                     <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <span class="material-icons text-6xl text-primary transform rotate-12">event</span>
                    </div>
                    <div class="relative z-10">
                         <div class="flex items-center gap-2 mb-2">
                            <span class="p-1.5 bg-blue-50 rounded-lg text-primary">
                                <span class="material-icons text-xl">event</span>
                            </span>
                            <span class="text-sm font-semibold text-gray-600">Programados</span>
                        </div>
                        <div class="flex items-baseline gap-2">
                             <h3 class="text-3xl font-bold text-gray-900">2</h3>
                             <span class="text-sm text-gray-500 font-medium">viajes</span>
                        </div>
                         <p class="text-xs text-orange-600 font-medium mt-2 flex items-center gap-1">
                            <span class="material-icons text-xs">info</span> 1 por confirmar
                        </p>
                    </div>
                </div>

                <!-- Calificación -->
                <div class="bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md transition duration-300 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                        <span class="material-icons text-6xl text-secondary transform rotate-12">stars</span>
                    </div>
                     <div class="relative z-10">
                        <div class="flex items-center gap-2 mb-2">
                             <span class="p-1.5 bg-green-50 rounded-lg text-green-700">
                                <span class="material-icons text-xl">stars</span>
                            </span>
                            <span class="text-sm font-semibold text-gray-600">Nivel Cliente</span>
                        </div>
                         <div class="flex items-baseline gap-2">
                             <h3 class="text-3xl font-bold text-gray-900">Oro</h3>
                             <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">
                                4.8 <span class="material-icons text-[10px] ml-0.5">star</span>
                             </span>
                        </div>
                         <p class="text-xs text-gray-500 mt-2">Acceso a tarifas preferenciales</p>
                    </div>
                </div>

            </div>

            <!-- Charts Row -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

                <!-- Gasto Mensual Chart -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <div class="flex items-center justify-between mb-4">
                         <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
                            <span class="material-icons text-secondary">trending_up</span> Evolución de Gastos
                        </h3>
                    </div>
                    <!-- Contenedor relativo para Chart.js -->
                    <div class="relative h-64 w-full">
                        <canvas id="chartGasto"></canvas>
                    </div>
                </div>

                <!-- Distribución Chart -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                     <div class="flex items-center justify-between mb-4">
                         <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
                            <span class="material-icons text-primary">pie_chart</span> Distribución de Viajes
                        </h3>
                    </div>
                    <!-- Contenedor relativo para Chart.js -->
                    <div class="relative h-64 w-full flex justify-center">
                         <canvas id="chartTipos"></canvas>
                    </div>
                </div>

            </div>

             <!-- Próximos Viajes List -->
            <div class="grid grid-cols-1 gap-6">
                
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50">
                        <h3 class="text-lg font-bold text-gray-900">Próximos Viajes</h3>
                        <a href="service-request.html" class="flex items-center gap-1 text-sm font-medium text-primary hover:text-secondary transition">
                            <span class="material-icons text-sm">add_circle</span> Solicitar Nuevo
                        </a>
                    </div>
                    
                    <div class="divide-y divide-gray-100">
                        <!-- Trip Card 1 -->
                        <div class="p-4 hover:bg-blue-50/30 transition flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 rounded-lg bg-blue-100 text-primary flex items-center justify-center flex-shrink-0">
                                    <span class="material-icons">event</span>
                                </div>
                                <div>
                                    <div class="flex items-center gap-2">
                                        <h4 class="text-base font-bold text-gray-900">Traslado a Faena Minera</h4>
                                        <span class="bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded-full font-medium">Confirmado</span>
                                    </div>
                                    <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500 mt-1">
                                        <div class="flex items-center gap-1"><span class="material-icons text-xs">calendar_today</span> 22 Ene, 2026</div>
                                        <div class="flex items-center gap-1"><span class="material-icons text-xs">schedule</span> 08:30 AM</div>
                                        <div class="flex items-center gap-1"><span class="material-icons text-xs">place</span> Hotel Atacama &rarr; Faena</div>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-500">
                                        <span class="font-medium text-gray-700">Chofer:</span> Juan Pérez <span class="text-gray-300">|</span> Patente: KDL-99
                                    </div>
                                </div>
                            </div>
                            <div class="text-right flex flex-row sm:flex-col justify-between items-end">
                                <span class="text-lg font-bold text-gray-900">$75.000</span>
                                <button class="text-sm text-secondary font-medium hover:underline">Ver detalles</button>
                            </div>
                        </div>

                         <!-- Trip Card 2 -->
                        <div class="p-4 hover:bg-blue-50/30 transition flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 rounded-lg bg-orange-100 text-secondary flex items-center justify-center flex-shrink-0">
                                    <span class="material-icons">pending_actions</span>
                                </div>
                                <div>
                                    <div class="flex items-center gap-2">
                                        <h4 class="text-base font-bold text-gray-900">Transfer Aeropuerto</h4>
                                        <span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-0.5 rounded-full font-medium">Pendiente</span>
                                    </div>
                                     <div class="flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-gray-500 mt-1">
                                        <div class="flex items-center gap-1"><span class="material-icons text-xs">calendar_today</span> 23 Ene, 2026</div>
                                        <div class="flex items-center gap-1"><span class="material-icons text-xs">schedule</span> 10:15 AM</div>
                                        <div class="flex items-center gap-1"><span class="material-icons text-xs">place</span> Aeropuerto &rarr; Centro</div>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-500">
                                        <span class="font-medium text-gray-700">Asignando conductor...</span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-right flex flex-row sm:flex-col justify-between items-end">
                                <span class="text-lg font-bold text-gray-900">$35.000</span>
                                <button class="text-sm text-secondary font-medium hover:underline">Modificar</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

             <!-- Historial Table -->
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-100 flex justify-between items-center">
                    <h3 class="text-lg font-bold text-gray-900">Historial Reciente</h3>
                     <a href="#" class="text-sm font-medium text-primary hover:text-secondary transition">Ver todos &rarr;</a>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50/50">
                             <tr>
                                <th class="text-left py-3 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Fecha</th>
                                <th class="text-left py-3 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Ruta</th>
                                <th class="text-left py-3 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Chofer</th>
                                <th class="text-right py-3 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Monto</th>
                                <th class="text-center py-3 px-6 text-xs font-semibold text-gray-500 uppercase tracking-wider">Estado</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="hover:bg-gray-50 transition">
                                <td class="py-4 px-6 text-sm text-gray-600">20 Ene, 2026</td>
                                <td class="py-4 px-6 text-sm text-gray-800 font-medium">Aeropuerto &rarr; Hotel Atacama</td>
                                <td class="py-4 px-6 text-sm text-gray-600">Juan Pérez</td>
                                <td class="py-4 px-6 text-sm font-bold text-gray-900 text-right">$65.000</td>
                                <td class="py-4 px-6 text-center">
                                     <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                        Finalizado
                                    </span>
                                </td>
                            </tr>
                             <tr class="hover:bg-gray-50 transition">
                                <td class="py-4 px-6 text-sm text-gray-600">19 Ene, 2026</td>
                                <td class="py-4 px-6 text-sm text-gray-800 font-medium">Centro &rarr; Complejo Turístico</td>
                                <td class="py-4 px-6 text-sm text-gray-600">Carlos López</td>
                                <td class="py-4 px-6 text-sm font-bold text-gray-900 text-right">$45.000</td>
                                <td class="py-4 px-6 text-center">
                                     <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                        Finalizado
                                    </span>
                                </td>
                            </tr>
                             <tr class="hover:bg-gray-50 transition">
                                <td class="py-4 px-6 text-sm text-gray-600">18 Ene, 2026</td>
                                <td class="py-4 px-6 text-sm text-gray-800 font-medium">Oficina Central &rarr; Faena Norte</td>
                                <td class="py-4 px-6 text-sm text-gray-600">Miguel González</td>
                                <td class="py-4 px-6 text-sm font-bold text-gray-900 text-right">$95.000</td>
                                <td class="py-4 px-6 text-center">
                                     <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
                                        Finalizado
                                    </span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </main><footer class="bg-[#002244] text-gray-300 border-t-4 border-secondary mt-auto">
        
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                
                <div class="space-y-4">
                    <div class="flex items-center gap-2 text-white">
                        <span class="material-icons text-secondary text-3xl">local_shipping</span>
                        <span class="font-bold text-xl tracking-wide">Servicios El Loa</span>
                    </div>
                    <p class="text-sm leading-relaxed text-gray-400">
                        Líderes en transporte corporativo y privado en la región de Antofagasta. Seguridad, puntualidad y tecnología al servicio de la minería.
                    </p>
                    <div class="flex gap-4 pt-2">
                        <a href="https://facebook.com" target="_blank" class="w-8 h-8 rounded-full bg-blue-900 flex items-center justify-center hover:bg-secondary transition text-white">
                            <span class="material-icons text-sm">facebook</span>
                        </a>
                        <a href="https://elloa.cl" target="_blank" class="w-8 h-8 rounded-full bg-blue-900 flex items-center justify-center hover:bg-secondary transition text-white">
                            <span class="material-icons text-sm">public</span> </a>
                        <a href="https://instagram.com" target="_blank" class="w-8 h-8 rounded-full bg-blue-900 flex items-center justify-center hover:bg-secondary transition text-white">
                            <span class="material-icons text-sm">photo_camera</span> </a>
                    </div>
                </div>

                <div>
                    <h3 class="text-white font-bold uppercase tracking-wider text-sm mb-4 border-b border-blue-800 pb-2 inline-block">Navegación</h3>
                    <ul class="space-y-3 text-sm">
                        <li><a href="index.html" class="hover:text-secondary transition flex items-center gap-2"><span class="material-icons text-xs">chevron_right</span> Inicio</a></li>
                        <li><a href="service-request.html" class="hover:text-secondary transition flex items-center gap-2"><span class="material-icons text-xs">chevron_right</span> Solicitudes</a></li>
                        <li><a href="companies.html" class="hover:text-secondary transition flex items-center gap-2"><span class="material-icons text-xs">chevron_right</span> Clientes</a></li>
                        <li><a href="portal-choferes.html" class="hover:text-secondary transition flex items-center gap-2"><span class="material-icons text-xs">chevron_right</span> Portal Choferes</a></li>
                        <li><a href="contacto.html" class="hover:text-secondary transition flex items-center gap-2"><span class="material-icons text-xs">chevron_right</span> Contáctanos</a></li>
                        <li><a href="trabaja-nosotros.html" class="hover:text-secondary transition flex items-center gap-2"><span class="material-icons text-xs">chevron_right</span> Trabaja con Nosotros</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-white font-bold uppercase tracking-wider text-sm mb-4 border-b border-blue-800 pb-2 inline-block">Contacto Central</h3>
                    <ul class="space-y-4 text-sm">
                        <li class="flex items-start gap-3">
                            <span class="material-icons text-secondary text-sm mt-1">location_on</span>
                            <span>Av. Granaderos 2550, Of. 304<br>Calama, Región de Antofagasta</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <span class="material-icons text-secondary text-sm">phone</span>
                            <span>+56 55 234 5678</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <span class="material-icons text-secondary text-sm">email</span>
                            <span>operaciones@elloa.cl</span>
                        </li>
                        <li class="flex items-center gap-3">
                            <span class="material-icons text-secondary text-sm">access_time</span>
                            <span>24/7 Soporte en Ruta</span>
                        </li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-white font-bold uppercase tracking-wider text-sm mb-4 border-b border-blue-800 pb-2 inline-block">Descarga la App</h3>
                    <p class="text-xs text-gray-400 mb-4">Gestiona tus viajes y monitorea la ruta en tiempo real.</p>
                    
                    <div class="space-y-3">
                        <button class="w-full bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded-lg p-2 flex items-center gap-3 transition">
                            <span class="material-icons text-3xl">apple</span>
                            <div class="text-left">
                                <div class="text-[10px] uppercase">Disponible en</div>
                                <div class="font-bold text-sm text-white">App Store</div>
                            </div>
                        </button>
                        <button class="w-full bg-gray-800 hover:bg-gray-700 border border-gray-600 rounded-lg p-2 flex items-center gap-3 transition">
                            <span class="material-icons text-3xl">android</span>
                            <div class="text-left">
                                <div class="text-[10px] uppercase">Disponible en</div>
                                <div class="font-bold text-sm text-white">Google Play</div>
                            </div>
                        </button>
                    </div>
                </div>

            </div>
        </div>

        <div class="bg-[#001a33] py-6 border-t border-blue-900/50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="text-xs text-gray-500 text-center md:text-left">
                    &copy; 2026 Servicios de Transporte El Loa SpA. Todos los derechos reservados.
                </div>
                <div class="flex gap-6 text-xs text-gray-400 font-medium">
                    <a href="terms.html" class="hover:text-white transition">Términos y Condiciones</a>
                    <a href="privacy.html" class="hover:text-white transition">Política de Privacidad</a>
                    <a href="complaints.html" class="hover:text-white transition">Portal de Denuncias</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Proteger página (si existe la función)
            if (typeof protectPage === 'function') {
                protectPage();
            }

            // Verificar si Chart.js está cargado
            if (typeof Chart === 'undefined') {
                console.error('Chart.js no se ha cargado correctamente.');
                return;
            }

            // Chart: Gasto Mensual
            const canvasGasto = document.getElementById('chartGasto');
            if (canvasGasto) {
                const ctxGasto = canvasGasto.getContext('2d');
                
                // Gradient for line chart
                const gradientGasto = ctxGasto.createLinearGradient(0, 0, 0, 400);
                gradientGasto.addColorStop(0, 'rgba(255, 102, 0, 0.2)');   
                gradientGasto.addColorStop(1, 'rgba(255, 102, 0, 0)');

                new Chart(ctxGasto, {
                    type: 'line',
                    data: {
                        labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio'],
                        datasets: [{
                            label: 'Gasto Mensual ($)',
                            data: [180000, 195000, 165000, 225000, 240000, 285000],
                            borderColor: '#FF6600',
                            backgroundColor: gradientGasto,
                            borderWidth: 3,
                            pointBackgroundColor: '#fff',
                            pointBorderColor: '#FF6600',
                            pointBorderWidth: 2,
                            pointRadius: 4,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                backgroundColor: '#003366',
                                titleColor: '#fff',
                                bodyColor: '#fff',
                                padding: 10,
                                cornerRadius: 8,
                                displayColors: false,
                                callbacks: {
                                    label: function(context) {
                                        return '$ ' + context.parsed.y.toLocaleString();
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: '#f3f4f6'
                                },
                                ticks: {
                                    font: {
                                        size: 10
                                    },
                                    callback: function(value) {
                                        if(value >= 1000) return '$' + value/1000 + 'k';
                                        return '$' + value;
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                },
                                ticks: {
                                    font: {
                                        size: 10
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Chart: Tipos de Viajes
            const canvasTipos = document.getElementById('chartTipos');
            if (canvasTipos) {
                const ctxTipos = canvasTipos.getContext('2d');
                new Chart(ctxTipos, {
                    type: 'doughnut',
                    data: {
                        labels: ['Corporativo', 'Turismo', 'Personal'],
                        datasets: [{
                            data: [8, 3, 1],
                            backgroundColor: ['#003366', '#FF6600', '#cbd5e1'],
                            hoverOffset: 4,
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: 'circle',
                                    padding: 20,
                                    font: {
                                        size: 12
                                    }
                                }
                            }
                        },
                        cutout: '75%',
                        layout: {
                            padding: 10
                        }
                    }
                });
            }
        });
    </script>

</body>
</html>
